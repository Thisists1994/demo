<script>
    // resolve 为成功,reject 为失败
    // const fn1 = () => {
    //     console.log(1);
    //     return false;
    // }
    // const fn2 = () => {
    //     console.log(2);
    //     return false;
    // }
    // let i = 0;
    // function timeout(ms) {
    //     return new Promise(
    //         (resolve, reject) => {
    //             setTimeout(resolve, ms, 'done');
    //         }
    //     );
    // };
    // // timeout()
    // timeout(300).then(
    //     (value) => {
    //         console.log(value)
    //     }
    // )
    // const url = "E:/ts/demo/image/1.jpg";
    const url = "E:/ts/demo/image\2.jpg";
    // function loadImageAsync(url) {
    //     return new Promise(function (resolve, reject) {
    //         const image = new Image();
    //         console.log(image.src)
    //         image.onload = function () {    //当图像装载完毕时调用的事件句柄。
    //             resolve(console.log('成功'));
    //             console.log(image.onload)
    //         };

    //         image.onerror = function () {   //在装载图像的过程中发生错误时调用的事件句柄。
    //             reject(new Error('Could not load image at ' + url));
    //         };

    //         image.src = url; //先执行这条
    //         console.log(image.src)
    //     });
    // };
    // loadImageAsync(url);

    function loadImage(url){
        const image = new Image();
        image.onload = function (){
            console.log(123)
        }
        image.onerror = function (){
            console.log(321)
        }
        image.src = url;
    }
    loadImage(url)
</script>